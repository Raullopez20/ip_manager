<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/../office_map_app/.env.example">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/.env.example" />
              <option name="updatedContent" value="# Archivo de variables de entorno (opcional)&#10;# Copia este archivo como .env y personaliza los valores&#10;&#10;# Configuración de Flask&#10;FLASK_ENV=development&#10;FLASK_DEBUG=True&#10;SECRET_KEY=your-super-secret-key-change-this-in-production&#10;&#10;# Configuración del servidor&#10;HOST=0.0.0.0&#10;PORT=5000&#10;&#10;# Configuración del mapa&#10;MAP_WIDTH=800&#10;MAP_HEIGHT=600&#10;&#10;# Configuración de la base de datos (para futuras extensiones)&#10;# DATABASE_URL=sqlite:///office_map.db" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/README.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/README.md" />
              <option name="updatedContent" value="# Mapa Interactivo de Oficina&#10;&#10;Una aplicación web moderna e interactiva para visualizar y navegar por los planos de oficina de tu empresa.&#10;&#10;## Características&#10;&#10;- **Mapa SVG interactivo** con zoom y navegación fluida&#10;- **Zonas diferenciadas por colores** con información detallada&#10;- **Buscador en tiempo real** para localizar zonas específicas&#10;- **Calculadora de rutas** con instrucciones paso a paso&#10;- **Puntos de interés** (escaleras, ascensores, salidas de emergencia)&#10;- **Interfaz responsive** que funciona en cualquier dispositivo&#10;- **Diseño profesional y minimalista**&#10;&#10;## Tecnologías Utilizadas&#10;&#10;- **Backend**: Python Flask&#10;- **Frontend**: HTML5, CSS3, JavaScript (ES6+)&#10;- **Librerías**: &#10;  - Bootstrap 5 (UI responsivo)&#10;  - D3.js (visualización SVG)&#10;  - Font Awesome (iconos)&#10;- **Estilo**: CSS Grid, Flexbox, Animaciones CSS&#10;&#10;## Instalación y Configuración&#10;&#10;### Requisitos Previos&#10;&#10;- Python 3.7 o superior&#10;- pip (gestor de paquetes de Python)&#10;&#10;### Pasos de Instalación&#10;&#10;1. **Clonar o descargar el proyecto**&#10;   ```bash&#10;   cd office_map_app&#10;   ```&#10;&#10;2. **Crear un entorno virtual (recomendado)**&#10;   ```bash&#10;   python -m venv venv&#10;   venv\Scripts\activate  # En Windows&#10;   # source venv/bin/activate  # En Linux/Mac&#10;   ```&#10;&#10;3. **Instalar dependencias**&#10;   ```bash&#10;   pip install -r requirements.txt&#10;   ```&#10;&#10;4. **Ejecutar la aplicación**&#10;   ```bash&#10;   python app.py&#10;   ```&#10;&#10;5. **Abrir en el navegador**&#10;   - Ir a `http://localhost:5000`&#10;&#10;## Estructura del Proyecto&#10;&#10;```&#10;office_map_app/&#10;├── app.py                 # Aplicación principal Flask&#10;├── requirements.txt       # Dependencias Python&#10;├── README.md             # Este archivo&#10;├── static/&#10;│   ├── css/&#10;│   │   └── style.css     # Estilos personalizados&#10;│   └── js/&#10;│       └── app.js        # JavaScript principal&#10;└── templates/&#10;    ├── base.html         # Template base&#10;    └── index.html        # Página principal&#10;```&#10;&#10;## Uso de la Aplicación&#10;&#10;### Navegación Básica&#10;&#10;- **Zoom**: Usa la rueda del mouse o los controles `+/-`&#10;- **Panorámica**: Arrastra el mapa para moverte&#10;- **Selección**: Haz clic en cualquier zona para ver información&#10;- **Vista inicial**: Botón &quot;casa&quot; para volver a la vista completa&#10;&#10;### Búsqueda de Zonas&#10;&#10;1. Escribe en el campo de búsqueda&#10;2. Los resultados aparecen automáticamente&#10;3. Haz clic en cualquier resultado para ir a esa zona&#10;&#10;### Cálculo de Rutas&#10;&#10;1. Selecciona zona de origen en el primer dropdown&#10;2. Selecciona zona de destino en el segundo dropdown&#10;3. Haz clic en &quot;Calcular&quot; para ver la ruta&#10;4. Se mostrará la ruta visual y las instrucciones&#10;&#10;### Atajos de Teclado&#10;&#10;- `+` o `=`: Zoom in&#10;- `-`: Zoom out&#10;- `R`: Restablecer vista&#10;- `Escape`: Limpiar selección y rutas&#10;&#10;## Personalización&#10;&#10;### Agregar Nuevas Zonas&#10;&#10;Edita el diccionario `OFFICE_ZONES` en `app.py`:&#10;&#10;```python&#10;&quot;nueva_zona&quot;: {&#10;    &quot;id&quot;: &quot;nueva_zona&quot;,&#10;    &quot;name&quot;: &quot;Nueva Zona&quot;,&#10;    &quot;description&quot;: &quot;Descripción de la zona&quot;,&#10;    &quot;coordinates&quot;: [x1, y1, x2, y2],  # Coordenadas del rectángulo&#10;    &quot;color&quot;: &quot;#COLOR_FONDO&quot;,&#10;    &quot;border_color&quot;: &quot;#COLOR_BORDE&quot;,&#10;    &quot;type&quot;: &quot;tipo_zona&quot;,&#10;    &quot;amenities&quot;: [&quot;Servicio 1&quot;, &quot;Servicio 2&quot;]&#10;}&#10;```&#10;&#10;### Agregar Puntos de Interés&#10;&#10;Edita la lista `POINTS_OF_INTEREST` en `app.py`:&#10;&#10;```python&#10;{&#10;    &quot;id&quot;: &quot;nuevo_poi&quot;,&#10;    &quot;name&quot;: &quot;Nombre del POI&quot;,&#10;    &quot;x&quot;: 100,  # Coordenada X&#10;    &quot;y&quot;: 200,  # Coordenada Y&#10;    &quot;type&quot;: &quot;tipo&quot;  # stairs, elevator, emergency_exit, etc.&#10;}&#10;```&#10;&#10;### Personalizar Colores&#10;&#10;Modifica las variables CSS en `static/css/style.css`:&#10;&#10;```css&#10;:root {&#10;    --primary-color: #tu-color-primario;&#10;    --secondary-color: #tu-color-secundario;&#10;    /* ... más variables ... */&#10;}&#10;```&#10;&#10;## Integración con Planos DWG&#10;&#10;Para integrar tus planos DWG reales:&#10;&#10;1. **Convertir DWG a SVG**:&#10;   - Usa AutoCAD para exportar como SVG&#10;   - O usa herramientas como DWG TrueView&#10;   - O servicios online de conversión&#10;&#10;2. **Extraer coordenadas**:&#10;   - Identifica las coordenadas de cada zona en el SVG&#10;   - Actualiza el diccionario `OFFICE_ZONES` con las coordenadas reales&#10;&#10;3. **Ajustar dimensiones**:&#10;   - Modifica `MAP_CONFIG` en `app.js` para que coincida con tu plano&#10;   - Ajusta `width` y `height` según las dimensiones de tu oficina&#10;&#10;4. **Optimizar SVG**:&#10;   - Usa herramientas como SVGO para optimizar el archivo&#10;   - Asegúrate de que el SVG sea limpio y eficiente&#10;&#10;## API Endpoints&#10;&#10;La aplicación expone varios endpoints API:&#10;&#10;- `GET /api/zones` - Obtener todas las zonas&#10;- `GET /api/points` - Obtener puntos de interés&#10;- `GET /api/zone/&lt;id&gt;` - Información de zona específica&#10;- `GET /api/search?q=query` - Buscar zonas&#10;- `GET /api/route?start=x&amp;end=y` - Calcular ruta&#10;&#10;## Características Avanzadas&#10;&#10;### Algoritmo de Rutas&#10;&#10;Actualmente usa cálculo de línea directa. Para implementar pathfinding más avanzado:&#10;&#10;1. Implementa algoritmo A* o Dijkstra&#10;2. Define &quot;nodos&quot; de navegación (pasillos, intersecciones)&#10;3. Crea grafo de conexiones entre nodos&#10;4. Calcula ruta óptima evitando obstáculos&#10;&#10;### Integración con Sistemas Existentes&#10;&#10;- Conecta con Active Directory para autenticación&#10;- Integra con sistemas de reserva de salas&#10;- Conecta con APIs de sensores IoT para ocupación en tiempo real&#10;- Exporta datos a sistemas de facilities management&#10;&#10;## Soporte y Desarrollo&#10;&#10;### Problemas Conocidos&#10;&#10;- El algoritmo de rutas es básico (línea directa)&#10;- No incluye navegación por pisos múltiples&#10;- La escalabilidad depende de la complejidad del SVG&#10;&#10;### Mejoras Futuras&#10;&#10;- [ ] Soporte para múltiples pisos&#10;- [ ] Pathfinding avanzado&#10;- [ ] Integración con calendarios&#10;- [ ] Modo oscuro&#10;- [ ] Offline support con PWA&#10;- [ ] Realidad aumentada para navegación móvil&#10;&#10;## Licencia&#10;&#10;Este proyecto está diseñado para uso interno de empresa. Personaliza según tus necesidades.&#10;&#10;---&#10;&#10;**¿Necesitas ayuda?** Contacta al equipo de desarrollo interno o consulta la documentación técnica adicional." />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/app.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/app.py" />
              <option name="updatedContent" value="from flask import Flask, render_template, request, jsonify&#10;import json&#10;import os&#10;from pathlib import Path&#10;&#10;app = Flask(__name__)&#10;&#10;# Configuración&#10;app.config['SECRET_KEY'] = 'your-secret-key-here'&#10;app.config['UPLOAD_FOLDER'] = 'static/uploads'&#10;&#10;# Datos de ejemplo para las zonas de la oficina&#10;OFFICE_ZONES = {&#10;    &quot;recepcion&quot;: {&#10;        &quot;id&quot;: &quot;recepcion&quot;,&#10;        &quot;name&quot;: &quot;Recepción&quot;,&#10;        &quot;description&quot;: &quot;Área de recepción y atención al cliente&quot;,&#10;        &quot;coordinates&quot;: [100, 150, 200, 250],  # x1, y1, x2, y2&#10;        &quot;color&quot;: &quot;#E3F2FD&quot;,&#10;        &quot;border_color&quot;: &quot;#2196F3&quot;,&#10;        &quot;type&quot;: &quot;reception&quot;,&#10;        &quot;amenities&quot;: [&quot;WiFi gratuito&quot;, &quot;Información general&quot;, &quot;Espera cómoda&quot;]&#10;    },&#10;    &quot;sala_reuniones_1&quot;: {&#10;        &quot;id&quot;: &quot;sala_reuniones_1&quot;,&#10;        &quot;name&quot;: &quot;Sala de Reuniones 1&quot;,&#10;        &quot;description&quot;: &quot;Sala para 8 personas con proyector&quot;,&#10;        &quot;coordinates&quot;: [300, 100, 450, 200],&#10;        &quot;color&quot;: &quot;#F3E5F5&quot;,&#10;        &quot;border_color&quot;: &quot;#9C27B0&quot;,&#10;        &quot;type&quot;: &quot;meeting_room&quot;,&#10;        &quot;amenities&quot;: [&quot;Proyector&quot;, &quot;Pizarra&quot;, &quot;AC&quot;, &quot;8 asientos&quot;]&#10;    },&#10;    &quot;sala_reuniones_2&quot;: {&#10;        &quot;id&quot;: &quot;sala_reuniones_2&quot;,&#10;        &quot;name&quot;: &quot;Sala de Reuniones 2&quot;,&#10;        &quot;description&quot;: &quot;Sala para 12 personas con videoconferencia&quot;,&#10;        &quot;coordinates&quot;: [500, 100, 650, 200],&#10;        &quot;color&quot;: &quot;#F3E5F5&quot;,&#10;        &quot;border_color&quot;: &quot;#9C27B0&quot;,&#10;        &quot;type&quot;: &quot;meeting_room&quot;,&#10;        &quot;amenities&quot;: [&quot;Videoconferencia&quot;, &quot;Proyector&quot;, &quot;AC&quot;, &quot;12 asientos&quot;]&#10;    },&#10;    &quot;oficinas&quot;: {&#10;        &quot;id&quot;: &quot;oficinas&quot;,&#10;        &quot;name&quot;: &quot;Oficinas Administrativas&quot;,&#10;        &quot;description&quot;: &quot;Zona de oficinas del personal administrativo&quot;,&#10;        &quot;coordinates&quot;: [100, 300, 400, 500],&#10;        &quot;color&quot;: &quot;#E8F5E8&quot;,&#10;        &quot;border_color&quot;: &quot;#4CAF50&quot;,&#10;        &quot;type&quot;: &quot;office&quot;,&#10;        &quot;amenities&quot;: [&quot;Escritorios individuales&quot;, &quot;AC&quot;, &quot;Impresora compartida&quot;]&#10;    },&#10;    &quot;comedor&quot;: {&#10;        &quot;id&quot;: &quot;comedor&quot;,&#10;        &quot;name&quot;: &quot;Comedor&quot;,&#10;        &quot;description&quot;: &quot;Área de comedor y descanso&quot;,&#10;        &quot;coordinates&quot;: [450, 300, 650, 400],&#10;        &quot;color&quot;: &quot;#FFF3E0&quot;,&#10;        &quot;border_color&quot;: &quot;#FF9800&quot;,&#10;        &quot;type&quot;: &quot;cafeteria&quot;,&#10;        &quot;amenities&quot;: [&quot;Microondas&quot;, &quot;Refrigerador&quot;, &quot;Mesas&quot;, &quot;Máquina de café&quot;]&#10;    },&#10;    &quot;almacen&quot;: {&#10;        &quot;id&quot;: &quot;almacen&quot;,&#10;        &quot;name&quot;: &quot;Almacén&quot;,&#10;        &quot;description&quot;: &quot;Zona de almacenamiento y suministros&quot;,&#10;        &quot;coordinates&quot;: [450, 450, 650, 550],&#10;        &quot;color&quot;: &quot;#EFEBE9&quot;,&#10;        &quot;border_color&quot;: &quot;#795548&quot;,&#10;        &quot;type&quot;: &quot;storage&quot;,&#10;        &quot;amenities&quot;: [&quot;Estanterías&quot;, &quot;Material de oficina&quot;, &quot;Acceso controlado&quot;]&#10;    },&#10;    &quot;banos&quot;: {&#10;        &quot;id&quot;: &quot;banos&quot;,&#10;        &quot;name&quot;: &quot;Baños&quot;,&#10;        &quot;description&quot;: &quot;Servicios sanitarios&quot;,&#10;        &quot;coordinates&quot;: [50, 400, 90, 500],&#10;        &quot;color&quot;: &quot;#E1F5FE&quot;,&#10;        &quot;border_color&quot;: &quot;#03A9F4&quot;,&#10;        &quot;type&quot;: &quot;restroom&quot;,&#10;        &quot;amenities&quot;: [&quot;Accesible&quot;, &quot;Papel higiénico&quot;, &quot;Jabón&quot;]&#10;    },&#10;    &quot;entrada&quot;: {&#10;        &quot;id&quot;: &quot;entrada&quot;,&#10;        &quot;name&quot;: &quot;Entrada Principal&quot;,&#10;        &quot;description&quot;: &quot;Acceso principal al edificio&quot;,&#10;        &quot;coordinates&quot;: [0, 150, 50, 250],&#10;        &quot;color&quot;: &quot;#F1F8E9&quot;,&#10;        &quot;border_color&quot;: &quot;#689F38&quot;,&#10;        &quot;type&quot;: &quot;entrance&quot;,&#10;        &quot;amenities&quot;: [&quot;Control de acceso&quot;, &quot;Seguridad&quot;]&#10;    }&#10;}&#10;&#10;# Puntos de interés adicionales&#10;POINTS_OF_INTEREST = [&#10;    {&quot;id&quot;: &quot;escaleras&quot;, &quot;name&quot;: &quot;Escaleras&quot;, &quot;x&quot;: 250, &quot;y&quot;: 250, &quot;type&quot;: &quot;stairs&quot;},&#10;    {&quot;id&quot;: &quot;ascensor&quot;, &quot;name&quot;: &quot;Ascensor&quot;, &quot;x&quot;: 270, &quot;y&quot;: 250, &quot;type&quot;: &quot;elevator&quot;},&#10;    {&quot;id&quot;: &quot;salida_emergencia&quot;, &quot;name&quot;: &quot;Salida de Emergencia&quot;, &quot;x&quot;: 650, &quot;y&quot;: 300, &quot;type&quot;: &quot;emergency_exit&quot;},&#10;    {&quot;id&quot;: &quot;extintor_1&quot;, &quot;name&quot;: &quot;Extintor&quot;, &quot;x&quot;: 200, &quot;y&quot;: 100, &quot;type&quot;: &quot;fire_extinguisher&quot;},&#10;    {&quot;id&quot;: &quot;extintor_2&quot;, &quot;name&quot;: &quot;Extintor&quot;, &quot;x&quot;: 400, &quot;y&quot;: 400, &quot;type&quot;: &quot;fire_extinguisher&quot;}&#10;]&#10;&#10;@app.route('/')&#10;def index():&#10;    return render_template('index.html')&#10;&#10;@app.route('/api/zones')&#10;def get_zones():&#10;    return jsonify(OFFICE_ZONES)&#10;&#10;@app.route('/api/points')&#10;def get_points():&#10;    return jsonify(POINTS_OF_INTEREST)&#10;&#10;@app.route('/api/zone/&lt;zone_id&gt;')&#10;def get_zone_info(zone_id):&#10;    zone = OFFICE_ZONES.get(zone_id)&#10;    if zone:&#10;        return jsonify(zone)&#10;    return jsonify({&quot;error&quot;: &quot;Zone not found&quot;}), 404&#10;&#10;@app.route('/api/search')&#10;def search_zones():&#10;    query = request.args.get('q', '').lower()&#10;    results = []&#10;    &#10;    for zone_id, zone_data in OFFICE_ZONES.items():&#10;        if query in zone_data['name'].lower() or query in zone_data['description'].lower():&#10;            results.append(zone_data)&#10;    &#10;    return jsonify(results)&#10;&#10;@app.route('/api/route')&#10;def calculate_route():&#10;    start = request.args.get('start')&#10;    end = request.args.get('end')&#10;    &#10;    if not start or not end:&#10;        return jsonify({&quot;error&quot;: &quot;Start and end points required&quot;}), 400&#10;    &#10;    start_zone = OFFICE_ZONES.get(start)&#10;    end_zone = OFFICE_ZONES.get(end)&#10;    &#10;    if not start_zone or not end_zone:&#10;        return jsonify({&quot;error&quot;: &quot;Invalid zone&quot;}), 400&#10;    &#10;    # Cálculo simple de ruta (centro de las zonas)&#10;    start_center = [&#10;        (start_zone['coordinates'][0] + start_zone['coordinates'][2]) / 2,&#10;        (start_zone['coordinates'][1] + start_zone['coordinates'][3]) / 2&#10;    ]&#10;    &#10;    end_center = [&#10;        (end_zone['coordinates'][0] + end_zone['coordinates'][2]) / 2,&#10;        (end_zone['coordinates'][1] + end_zone['coordinates'][3]) / 2&#10;    ]&#10;    &#10;    # Ruta simple de línea directa (en una implementación real usarías algoritmos de pathfinding)&#10;    route = {&#10;        &quot;start&quot;: {&quot;name&quot;: start_zone['name'], &quot;coordinates&quot;: start_center},&#10;        &quot;end&quot;: {&quot;name&quot;: end_zone['name'], &quot;coordinates&quot;: end_center},&#10;        &quot;path&quot;: [start_center, end_center],&#10;        &quot;distance&quot;: ((end_center[0] - start_center[0])**2 + (end_center[1] - start_center[1])**2)**0.5,&#10;        &quot;instructions&quot;: [&#10;            f&quot;Iniciar en {start_zone['name']}&quot;,&#10;            f&quot;Dirigirse directamente a {end_zone['name']}&quot;,&#10;            f&quot;Llegar a {end_zone['name']}&quot;&#10;        ]&#10;    }&#10;    &#10;    return jsonify(route)&#10;&#10;if __name__ == '__main__':&#10;    app.run(debug=True, host='0.0.0.0', port=5000)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/requirements.txt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/requirements.txt" />
              <option name="updatedContent" value="Flask==2.3.3&#10;Werkzeug==2.3.7&#10;Jinja2==3.1.2&#10;MarkupSafe==2.1.3&#10;itsdangerous==2.1.2&#10;click==8.1.7&#10;blinker==1.6.2&#10;python-dotenv==1.0.0" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/run.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/run.py" />
              <option name="updatedContent" value="#!/usr/bin/env python3&#10;&quot;&quot;&quot;&#10;Script de configuración rápida para la aplicación de mapas de oficina.&#10;Este script instala las dependencias y ejecuta la aplicación.&#10;&quot;&quot;&quot;&#10;&#10;import subprocess&#10;import sys&#10;import os&#10;&#10;def install_requirements():&#10;    &quot;&quot;&quot;Instalar las dependencias del proyecto&quot;&quot;&quot;&#10;    print(&quot; Instalando dependencias...&quot;)&#10;    try:&#10;        subprocess.check_call([sys.executable, &quot;-m&quot;, &quot;pip&quot;, &quot;install&quot;, &quot;-r&quot;, &quot;requirements.txt&quot;])&#10;        print(&quot;✅ Dependencias instaladas correctamente&quot;)&#10;        return True&#10;    except subprocess.CalledProcessError as e:&#10;        print(f&quot;❌ Error instalando dependencias: {e}&quot;)&#10;        return False&#10;&#10;def check_python_version():&#10;    &quot;&quot;&quot;Verificar que la versión de Python sea compatible&quot;&quot;&quot;&#10;    if sys.version_info &lt; (3, 7):&#10;        print(&quot;❌ Se requiere Python 3.7 o superior&quot;)&#10;        print(f&quot;Versión actual: {sys.version}&quot;)&#10;        return False&#10;    print(f&quot;✅ Python {sys.version.split()[0]} detectado&quot;)&#10;    return True&#10;&#10;def run_application():&#10;    &quot;&quot;&quot;Ejecutar la aplicación Flask&quot;&quot;&quot;&#10;    print(&quot; Iniciando aplicación...&quot;)&#10;    print(&quot; La aplicación estará disponible en: http://localhost:5000&quot;)&#10;    print(&quot; Presiona Ctrl+C para detener el servidor&quot;)&#10;    print(&quot;-&quot; * 50)&#10;    &#10;    try:&#10;        from app import app&#10;        app.run(debug=True, host='0.0.0.0', port=5000)&#10;    except ImportError as e:&#10;        print(f&quot;❌ Error importando la aplicación: {e}&quot;)&#10;        return False&#10;    except Exception as e:&#10;        print(f&quot;❌ Error ejecutando la aplicación: {e}&quot;)&#10;        return False&#10;&#10;def main():&#10;    &quot;&quot;&quot;Función principal&quot;&quot;&quot;&#10;    print(&quot; Configurador de Mapa Interactivo de Oficina&quot;)&#10;    print(&quot;=&quot; * 50)&#10;    &#10;    # Verificar versión de Python&#10;    if not check_python_version():&#10;        sys.exit(1)&#10;    &#10;    # Cambiar al directorio del script&#10;    script_dir = os.path.dirname(os.path.abspath(__file__))&#10;    os.chdir(script_dir)&#10;    &#10;    # Instalar dependencias&#10;    if not install_requirements():&#10;        print(&quot;❌ No se pudieron instalar las dependencias. Intenta manualmente:&quot;)&#10;        print(&quot;pip install -r requirements.txt&quot;)&#10;        sys.exit(1)&#10;    &#10;    print(&quot;\n Configuración completada!&quot;)&#10;    print(&quot;\n Iniciando aplicación...&quot;)&#10;    &#10;    # Ejecutar aplicación&#10;    run_application()&#10;&#10;if __name__ == &quot;__main__&quot;:&#10;    main()" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/static/css/style.css">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/static/css/style.css" />
              <option name="updatedContent" value="/* Variables CSS para colores y espaciado */&#10;:root {&#10;    --primary-color: #2563eb;&#10;    --secondary-color: #64748b;&#10;    --success-color: #10b981;&#10;    --warning-color: #f59e0b;&#10;    --danger-color: #ef4444;&#10;    --light-bg: #f8fafc;&#10;    --dark-bg: #1e293b;&#10;    --border-color: #e2e8f0;&#10;    --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);&#10;    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);&#10;}&#10;&#10;/* Reset y configuración base */&#10;* {&#10;    box-sizing: border-box;&#10;}&#10;&#10;body {&#10;    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;&#10;    background-color: var(--light-bg);&#10;    margin: 0;&#10;    padding: 0;&#10;    height: 100vh;&#10;    overflow: hidden;&#10;}&#10;&#10;/* Navegación */&#10;.navbar {&#10;    box-shadow: var(--shadow);&#10;    z-index: 1000;&#10;}&#10;&#10;.navbar-brand {&#10;    font-weight: 600;&#10;    font-size: 1.25rem;&#10;}&#10;&#10;/* Contenedor principal */&#10;main.container-fluid {&#10;    padding: 20px;&#10;    height: calc(100vh - 76px);&#10;    overflow: hidden;&#10;}&#10;&#10;.row.h-100 {&#10;    height: 100%;&#10;    margin: 0;&#10;}&#10;&#10;/* Sidebar */&#10;.sidebar {&#10;    padding-right: 15px;&#10;}&#10;&#10;.sidebar .card {&#10;    border: 1px solid var(--border-color);&#10;    box-shadow: var(--shadow);&#10;    overflow-y: auto;&#10;}&#10;&#10;.sidebar .card-header {&#10;    background-color: white;&#10;    border-bottom: 1px solid var(--border-color);&#10;    padding: 1rem;&#10;}&#10;&#10;.sidebar .card-body {&#10;    padding: 1rem;&#10;}&#10;&#10;/* Buscador */&#10;#searchInput {&#10;    border: 1px solid var(--border-color);&#10;    border-radius: 8px;&#10;    transition: border-color 0.2s, box-shadow 0.2s;&#10;}&#10;&#10;#searchInput:focus {&#10;    border-color: var(--primary-color);&#10;    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);&#10;}&#10;&#10;.search-results {&#10;    max-height: 200px;&#10;    overflow-y: auto;&#10;    border-radius: 8px;&#10;}&#10;&#10;.search-result-item {&#10;    padding: 8px 12px;&#10;    background: white;&#10;    border: 1px solid var(--border-color);&#10;    border-bottom: none;&#10;    cursor: pointer;&#10;    transition: background-color 0.2s;&#10;}&#10;&#10;.search-result-item:last-child {&#10;    border-bottom: 1px solid var(--border-color);&#10;    border-radius: 0 0 8px 8px;&#10;}&#10;&#10;.search-result-item:first-child {&#10;    border-radius: 8px 8px 0 0;&#10;}&#10;&#10;.search-result-item:hover {&#10;    background-color: var(--light-bg);&#10;}&#10;&#10;/* Lista de zonas */&#10;.zones-list {&#10;    max-height: 300px;&#10;    overflow-y: auto;&#10;}&#10;&#10;.zone-item {&#10;    padding: 8px 12px;&#10;    background: white;&#10;    border: 1px solid var(--border-color);&#10;    border-radius: 6px;&#10;    margin-bottom: 4px;&#10;    cursor: pointer;&#10;    transition: all 0.2s;&#10;    display: flex;&#10;    align-items: center;&#10;    justify-content: space-between;&#10;}&#10;&#10;.zone-item:hover {&#10;    background-color: var(--light-bg);&#10;    transform: translateY(-1px);&#10;    box-shadow: var(--shadow);&#10;}&#10;&#10;.zone-color-indicator {&#10;    width: 16px;&#10;    height: 16px;&#10;    border-radius: 3px;&#10;    margin-right: 8px;&#10;    border: 1px solid rgba(0, 0, 0, 0.1);&#10;}&#10;&#10;/* Leyenda */&#10;.legend {&#10;    background: white;&#10;    border: 1px solid var(--border-color);&#10;    border-radius: 8px;&#10;    padding: 12px;&#10;}&#10;&#10;.legend-item {&#10;    display: flex;&#10;    align-items: center;&#10;    margin-bottom: 6px;&#10;    font-size: 0.875rem;&#10;}&#10;&#10;.legend-color {&#10;    width: 16px;&#10;    height: 16px;&#10;    border-radius: 3px;&#10;    margin-right: 8px;&#10;    display: inline-block;&#10;}&#10;&#10;/* Área del mapa */&#10;.map-container {&#10;    padding-left: 15px;&#10;}&#10;&#10;.map-container .card {&#10;    border: 1px solid var(--border-color);&#10;    box-shadow: var(--shadow);&#10;}&#10;&#10;.office-map {&#10;    width: 100%;&#10;    height: 100%;&#10;    min-height: 500px;&#10;    background: #f0f4f8;&#10;    position: relative;&#10;    overflow: hidden;&#10;    border-radius: 0 0 8px 8px;&#10;}&#10;&#10;/* Elementos del mapa SVG */&#10;.office-zone {&#10;    cursor: pointer;&#10;    transition: all 0.2s;&#10;    stroke-width: 2;&#10;    opacity: 0.8;&#10;}&#10;&#10;.office-zone:hover {&#10;    opacity: 1;&#10;    stroke-width: 3;&#10;    filter: brightness(1.05);&#10;}&#10;&#10;.office-zone.selected {&#10;    stroke-width: 4;&#10;    stroke-dasharray: 5,5;&#10;    animation: dash 1s linear infinite;&#10;}&#10;&#10;@keyframes dash {&#10;    to {&#10;        stroke-dashoffset: -10;&#10;    }&#10;}&#10;&#10;.zone-label {&#10;    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;&#10;    font-size: 12px;&#10;    font-weight: 600;&#10;    text-anchor: middle;&#10;    dominant-baseline: middle;&#10;    pointer-events: none;&#10;    fill: #374151;&#10;}&#10;&#10;.poi-marker {&#10;    cursor: pointer;&#10;    transition: transform 0.2s;&#10;}&#10;&#10;.poi-marker:hover {&#10;    transform: scale(1.2);&#10;}&#10;&#10;/* Ruta */&#10;.route-path {&#10;    fill: none;&#10;    stroke: var(--primary-color);&#10;    stroke-width: 4;&#10;    stroke-linecap: round;&#10;    stroke-dasharray: 10,5;&#10;    animation: route-flow 2s linear infinite;&#10;    opacity: 0.8;&#10;}&#10;&#10;@keyframes route-flow {&#10;    to {&#10;        stroke-dashoffset: -15;&#10;    }&#10;}&#10;&#10;.route-marker {&#10;    fill: var(--primary-color);&#10;    stroke: white;&#10;    stroke-width: 2;&#10;}&#10;&#10;/* Información de ruta */&#10;.route-info {&#10;    background: white;&#10;    border: 1px solid var(--border-color);&#10;    border-radius: 8px;&#10;    padding: 12px;&#10;    margin-top: 10px;&#10;}&#10;&#10;.route-distance {&#10;    font-weight: 600;&#10;    color: var(--primary-color);&#10;}&#10;&#10;.route-instruction {&#10;    padding: 4px 0;&#10;    border-bottom: 1px solid #f1f5f9;&#10;    font-size: 0.875rem;&#10;}&#10;&#10;.route-instruction:last-child {&#10;    border-bottom: none;&#10;}&#10;&#10;/* Modal personalizations */&#10;.modal-content {&#10;    border: none;&#10;    box-shadow: var(--shadow-lg);&#10;}&#10;&#10;.modal-header {&#10;    border-bottom: 1px solid var(--border-color);&#10;    background: var(--light-bg);&#10;}&#10;&#10;.modal-body {&#10;    padding: 1.5rem;&#10;}&#10;&#10;/* Zona info modal */&#10;.zone-amenities {&#10;    display: flex;&#10;    flex-wrap: wrap;&#10;    gap: 8px;&#10;    margin-top: 10px;&#10;}&#10;&#10;.amenity-tag {&#10;    background: var(--light-bg);&#10;    border: 1px solid var(--border-color);&#10;    padding: 4px 8px;&#10;    border-radius: 16px;&#10;    font-size: 0.75rem;&#10;    color: var(--secondary-color);&#10;}&#10;&#10;/* Loading spinner */&#10;.loading-spinner {&#10;    position: fixed;&#10;    top: 50%;&#10;    left: 50%;&#10;    transform: translate(-50%, -50%);&#10;    text-align: center;&#10;    z-index: 9999;&#10;    background: white;&#10;    padding: 30px;&#10;    border-radius: 12px;&#10;    box-shadow: var(--shadow-lg);&#10;}&#10;&#10;/* Toast notifications */&#10;.toast {&#10;    border: none;&#10;    box-shadow: var(--shadow-lg);&#10;}&#10;&#10;/* Botones personalizados */&#10;.btn {&#10;    border-radius: 6px;&#10;    font-weight: 500;&#10;    transition: all 0.2s;&#10;}&#10;&#10;.btn:hover {&#10;    transform: translateY(-1px);&#10;}&#10;&#10;.btn-primary {&#10;    background-color: var(--primary-color);&#10;    border-color: var(--primary-color);&#10;}&#10;&#10;/* Responsive design */&#10;@media (max-width: 992px) {&#10;    main.container-fluid {&#10;        padding: 10px;&#10;    }&#10;    &#10;    .row.h-100 {&#10;        flex-direction: column;&#10;        height: auto;&#10;    }&#10;    &#10;    .sidebar {&#10;        padding-right: 0;&#10;        margin-bottom: 15px;&#10;    }&#10;    &#10;    .sidebar .card {&#10;        max-height: 300px;&#10;    }&#10;    &#10;    .map-container {&#10;        padding-left: 0;&#10;    }&#10;    &#10;    .office-map {&#10;        min-height: 400px;&#10;    }&#10;}&#10;&#10;@media (max-width: 576px) {&#10;    main.container-fluid {&#10;        padding: 5px;&#10;    }&#10;    &#10;    .navbar-brand {&#10;        font-size: 1rem;&#10;    }&#10;    &#10;    .office-map {&#10;        min-height: 350px;&#10;    }&#10;}&#10;&#10;/* Animaciones suaves */&#10;.fade-in {&#10;    animation: fadeIn 0.3s ease-in;&#10;}&#10;&#10;@keyframes fadeIn {&#10;    from { opacity: 0; transform: translateY(10px); }&#10;    to { opacity: 1; transform: translateY(0); }&#10;}&#10;&#10;/* Fullscreen mode */&#10;.fullscreen-map {&#10;    position: fixed;&#10;    top: 0;&#10;    left: 0;&#10;    width: 100vw;&#10;    height: 100vh;&#10;    z-index: 9998;&#10;    background: white;&#10;}&#10;&#10;.fullscreen-map .office-map {&#10;    min-height: 100vh;&#10;    border-radius: 0;&#10;}&#10;&#10;/* Controles del mapa */&#10;.map-controls {&#10;    position: absolute;&#10;    top: 10px;&#10;    right: 10px;&#10;    z-index: 1000;&#10;    display: flex;&#10;    flex-direction: column;&#10;    gap: 5px;&#10;}&#10;&#10;.map-control-btn {&#10;    background: white;&#10;    border: 1px solid var(--border-color);&#10;    width: 32px;&#10;    height: 32px;&#10;    border-radius: 4px;&#10;    display: flex;&#10;    align-items: center;&#10;    justify-content: center;&#10;    cursor: pointer;&#10;    transition: all 0.2s;&#10;    font-size: 14px;&#10;    color: var(--secondary-color);&#10;}&#10;&#10;.map-control-btn:hover {&#10;    background: var(--light-bg);&#10;    color: var(--primary-color);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/static/js/app.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/static/js/app.js" />
              <option name="updatedContent" value="// Variables globales&#10;let officeMap = null;&#10;let mapSvg = null;&#10;let zones = {};&#10;let pointsOfInterest = [];&#10;let currentRoute = null;&#10;let selectedZone = null;&#10;let mapScale = 1;&#10;let mapTranslateX = 0;&#10;let mapTranslateY = 0;&#10;&#10;// Configuración del mapa&#10;const MAP_CONFIG = {&#10;    width: 800,&#10;    height: 600,&#10;    minZoom: 0.5,&#10;    maxZoom: 3,&#10;    zoomStep: 0.1&#10;};&#10;&#10;// Iconos para puntos de interés&#10;const POI_ICONS = {&#10;    stairs: '',&#10;    elevator: '',&#10;    emergency_exit: '',&#10;    fire_extinguisher: '',&#10;    entrance: ''&#10;};&#10;&#10;/**&#10; * Inicializar el mapa SVG&#10; */&#10;function initializeMap() {&#10;    const mapContainer = document.getElementById('officeMap');&#10;    &#10;    // Crear el SVG&#10;    mapSvg = d3.select('#officeMap')&#10;        .append('svg')&#10;        .attr('width', '100%')&#10;        .attr('height', '100%')&#10;        .attr('viewBox', `0 0 ${MAP_CONFIG.width} ${MAP_CONFIG.height}`)&#10;        .style('background', 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)')&#10;        .call(d3.zoom()&#10;            .scaleExtent([MAP_CONFIG.minZoom, MAP_CONFIG.maxZoom])&#10;            .on('zoom', handleZoom));&#10;&#10;    // Grupo principal para las transformaciones&#10;    const mainGroup = mapSvg.append('g').attr('class', 'main-group');&#10;    &#10;    // Agregar patrón de fondo tipo grid&#10;    addGridPattern();&#10;    &#10;    // Agregar controles del mapa&#10;    addMapControls();&#10;    &#10;    showToast('Mapa inicializado correctamente', 'success');&#10;}&#10;&#10;/**&#10; * Agregar patrón de grid al fondo&#10; */&#10;function addGridPattern() {&#10;    const defs = mapSvg.append('defs');&#10;    &#10;    const pattern = defs.append('pattern')&#10;        .attr('id', 'grid')&#10;        .attr('width', 50)&#10;        .attr('height', 50)&#10;        .attr('patternUnits', 'userSpaceOnUse');&#10;    &#10;    pattern.append('path')&#10;        .attr('d', 'M 50 0 L 0 0 0 50')&#10;        .attr('fill', 'none')&#10;        .attr('stroke', '#e2e8f0')&#10;        .attr('stroke-width', 1)&#10;        .attr('opacity', 0.3);&#10;    &#10;    mapSvg.select('.main-group')&#10;        .append('rect')&#10;        .attr('width', MAP_CONFIG.width)&#10;        .attr('height', MAP_CONFIG.height)&#10;        .attr('fill', 'url(#grid)');&#10;}&#10;&#10;/**&#10; * Agregar controles del mapa&#10; */&#10;function addMapControls() {&#10;    const controlsDiv = document.createElement('div');&#10;    controlsDiv.className = 'map-controls';&#10;    &#10;    const controls = [&#10;        { icon: 'fas fa-plus', action: 'zoomIn', title: 'Zoom In' },&#10;        { icon: 'fas fa-minus', action: 'zoomOut', title: 'Zoom Out' },&#10;        { icon: 'fas fa-home', action: 'resetView', title: 'Vista inicial' }&#10;    ];&#10;    &#10;    controls.forEach(control =&gt; {&#10;        const btn = document.createElement('div');&#10;        btn.className = 'map-control-btn';&#10;        btn.innerHTML = `&lt;i class=&quot;${control.icon}&quot;&gt;&lt;/i&gt;`;&#10;        btn.title = control.title;&#10;        btn.onclick = () =&gt; window[control.action]();&#10;        controlsDiv.appendChild(btn);&#10;    });&#10;    &#10;    document.getElementById('officeMap').appendChild(controlsDiv);&#10;}&#10;&#10;/**&#10; * Cargar zonas desde la API&#10; */&#10;async function loadZones() {&#10;    try {&#10;        const response = await fetch('/api/zones');&#10;        zones = await response.json();&#10;        &#10;        const pointsResponse = await fetch('/api/points');&#10;        pointsOfInterest = await pointsResponse.json();&#10;        &#10;        renderMap();&#10;        populateZonesList();&#10;        populateRouteSelects();&#10;        &#10;        hideLoading();&#10;    } catch (error) {&#10;        console.error('Error loading zones:', error);&#10;        showToast('Error al cargar las zonas', 'error');&#10;    }&#10;}&#10;&#10;/**&#10; * Renderizar el mapa completo&#10; */&#10;function renderMap() {&#10;    const mainGroup = mapSvg.select('.main-group');&#10;    &#10;    // Renderizar zonas&#10;    Object.values(zones).forEach(zone =&gt; {&#10;        renderZone(mainGroup, zone);&#10;    });&#10;    &#10;    // Renderizar puntos de interés&#10;    pointsOfInterest.forEach(poi =&gt; {&#10;        renderPointOfInterest(mainGroup, poi);&#10;    });&#10;}&#10;&#10;/**&#10; * Renderizar una zona individual&#10; */&#10;function renderZone(container, zone) {&#10;    const [x1, y1, x2, y2] = zone.coordinates;&#10;    const width = x2 - x1;&#10;    const height = y2 - y1;&#10;    const centerX = x1 + width / 2;&#10;    const centerY = y1 + height / 2;&#10;    &#10;    // Crear grupo para la zona&#10;    const zoneGroup = container.append('g')&#10;        .attr('class', `zone-group zone-${zone.id}`)&#10;        .attr('data-zone-id', zone.id);&#10;    &#10;    // Rectángulo de la zona&#10;    zoneGroup.append('rect')&#10;        .attr('x', x1)&#10;        .attr('y', y1)&#10;        .attr('width', width)&#10;        .attr('height', height)&#10;        .attr('fill', zone.color)&#10;        .attr('stroke', zone.border_color)&#10;        .attr('class', 'office-zone')&#10;        .on('click', () =&gt; selectZone(zone.id))&#10;        .on('mouseover', function() {&#10;            d3.select(this).attr('opacity', 0.9);&#10;            showZoneTooltip(zone, d3.event.pageX, d3.event.pageY);&#10;        })&#10;        .on('mouseout', function() {&#10;            d3.select(this).attr('opacity', 0.8);&#10;            hideZoneTooltip();&#10;        });&#10;    &#10;    // Etiqueta de la zona&#10;    zoneGroup.append('text')&#10;        .attr('x', centerX)&#10;        .attr('y', centerY)&#10;        .attr('class', 'zone-label')&#10;        .text(zone.name)&#10;        .style('font-size', `${Math.min(width, height) / 8}px`)&#10;        .each(function() {&#10;            // Ajustar el texto si es muy largo&#10;            const textLength = this.getComputedTextLength();&#10;            if (textLength &gt; width - 10) {&#10;                const text = d3.select(this);&#10;                const words = zone.name.split(' ');&#10;                text.text(null);&#10;                &#10;                words.forEach((word, i) =&gt; {&#10;                    text.append('tspan')&#10;                        .attr('x', centerX)&#10;                        .attr('dy', i === 0 ? 0 : '1em')&#10;                        .text(word);&#10;                });&#10;            }&#10;        });&#10;}&#10;&#10;/**&#10; * Renderizar punto de interés&#10; */&#10;function renderPointOfInterest(container, poi) {&#10;    const poiGroup = container.append('g')&#10;        .attr('class', 'poi-group')&#10;        .attr('transform', `translate(${poi.x}, ${poi.y})`);&#10;    &#10;    // Círculo de fondo&#10;    poiGroup.append('circle')&#10;        .attr('r', 12)&#10;        .attr('fill', 'white')&#10;        .attr('stroke', '#374151')&#10;        .attr('stroke-width', 2)&#10;        .attr('class', 'poi-marker');&#10;    &#10;    // Icono&#10;    poiGroup.append('text')&#10;        .attr('text-anchor', 'middle')&#10;        .attr('dominant-baseline', 'middle')&#10;        .attr('font-size', '14px')&#10;        .text(POI_ICONS[poi.type] || '')&#10;        .style('pointer-events', 'none');&#10;    &#10;    // Tooltip&#10;    poiGroup.on('mouseover', function() {&#10;        showZoneTooltip({name: poi.name, description: `Tipo: ${poi.type}`}, &#10;                       d3.event.pageX, d3.event.pageY);&#10;    }).on('mouseout', hideZoneTooltip);&#10;}&#10;&#10;/**&#10; * Manejar zoom del mapa&#10; */&#10;function handleZoom() {&#10;    const transform = d3.event.transform;&#10;    mapScale = transform.k;&#10;    mapTranslateX = transform.x;&#10;    mapTranslateY = transform.y;&#10;    &#10;    mapSvg.select('.main-group')&#10;        .attr('transform', transform);&#10;}&#10;&#10;/**&#10; * Funciones de zoom&#10; */&#10;function zoomIn() {&#10;    mapSvg.transition().duration(300)&#10;        .call(d3.zoom().transform, &#10;              d3.zoomTransform(mapSvg.node()).scale(mapScale * (1 + MAP_CONFIG.zoomStep)));&#10;}&#10;&#10;function zoomOut() {&#10;    mapSvg.transition().duration(300)&#10;        .call(d3.zoom().transform, &#10;              d3.zoomTransform(mapSvg.node()).scale(mapScale * (1 - MAP_CONFIG.zoomStep)));&#10;}&#10;&#10;function resetView() {&#10;    mapSvg.transition().duration(500)&#10;        .call(d3.zoom().transform, d3.zoomIdentity);&#10;}&#10;&#10;/**&#10; * Seleccionar una zona&#10; */&#10;function selectZone(zoneId) {&#10;    // Limpiar selección anterior&#10;    mapSvg.selectAll('.office-zone').classed('selected', false);&#10;    &#10;    // Seleccionar nueva zona&#10;    mapSvg.select(`.zone-${zoneId} .office-zone`).classed('selected', true);&#10;    &#10;    selectedZone = zoneId;&#10;    showZoneInfo(zoneId);&#10;}&#10;&#10;/**&#10; * Mostrar información de la zona en modal&#10; */&#10;function showZoneInfo(zoneId) {&#10;    const zone = zones[zoneId];&#10;    if (!zone) return;&#10;    &#10;    const modal = new bootstrap.Modal(document.getElementById('zoneInfoModal'));&#10;    document.getElementById('zoneModalTitle').textContent = zone.name;&#10;    &#10;    const modalBody = document.getElementById('zoneModalBody');&#10;    modalBody.innerHTML = `&#10;        &lt;div class=&quot;row&quot;&gt;&#10;            &lt;div class=&quot;col-md-6&quot;&gt;&#10;                &lt;h6&gt;&lt;i class=&quot;fas fa-info-circle text-primary&quot;&gt;&lt;/i&gt; Descripción&lt;/h6&gt;&#10;                &lt;p&gt;${zone.description}&lt;/p&gt;&#10;                &#10;                &lt;h6&gt;&lt;i class=&quot;fas fa-tag text-primary&quot;&gt;&lt;/i&gt; Tipo&lt;/h6&gt;&#10;                &lt;span class=&quot;badge bg-secondary&quot;&gt;${zone.type.replace('_', ' ')}&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;col-md-6&quot;&gt;&#10;                &lt;h6&gt;&lt;i class=&quot;fas fa-tools text-primary&quot;&gt;&lt;/i&gt; Servicios&lt;/h6&gt;&#10;                &lt;div class=&quot;zone-amenities&quot;&gt;&#10;                    ${zone.amenities.map(amenity =&gt; &#10;                        `&lt;span class=&quot;amenity-tag&quot;&gt;${amenity}&lt;/span&gt;`&#10;                    ).join('')}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;mt-3&quot;&gt;&#10;            &lt;div class=&quot;d-flex align-items-center&quot;&gt;&#10;                &lt;span class=&quot;legend-color me-2&quot; style=&quot;background: ${zone.color}; border: 1px solid ${zone.border_color};&quot;&gt;&lt;/span&gt;&#10;                &lt;small class=&quot;text-muted&quot;&gt;Color identificativo en el mapa&lt;/small&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    `;&#10;    &#10;    modal.show();&#10;}&#10;&#10;/**&#10; * Configurar listeners de eventos&#10; */&#10;function setupEventListeners() {&#10;    // Buscador&#10;    const searchInput = document.getElementById('searchInput');&#10;    searchInput.addEventListener('input', handleSearch);&#10;    searchInput.addEventListener('keydown', function(e) {&#10;        if (e.key === 'Enter') {&#10;            const results = document.querySelectorAll('.search-result-item');&#10;            if (results.length &gt; 0) {&#10;                results[0].click();&#10;            }&#10;        }&#10;    });&#10;    &#10;    // Detectar teclas para navegación&#10;    document.addEventListener('keydown', function(e) {&#10;        if (e.target.tagName.toLowerCase() !== 'input') {&#10;            switch(e.key) {&#10;                case '+':&#10;                case '=':&#10;                    e.preventDefault();&#10;                    zoomIn();&#10;                    break;&#10;                case '-':&#10;                    e.preventDefault();&#10;                    zoomOut();&#10;                    break;&#10;                case 'r':&#10;                    e.preventDefault();&#10;                    resetView();&#10;                    break;&#10;                case 'Escape':&#10;                    clearRoute();&#10;                    clearSelection();&#10;                    break;&#10;            }&#10;        }&#10;    });&#10;}&#10;&#10;/**&#10; * Manejar búsqueda&#10; */&#10;async function handleSearch() {&#10;    const query = document.getElementById('searchInput').value;&#10;    const resultsContainer = document.getElementById('searchResults');&#10;    &#10;    if (!query.trim()) {&#10;        resultsContainer.innerHTML = '';&#10;        return;&#10;    }&#10;    &#10;    try {&#10;        const response = await fetch(`/api/search?q=${encodeURIComponent(query)}`);&#10;        const results = await response.json();&#10;        &#10;        resultsContainer.innerHTML = results.map(zone =&gt; `&#10;            &lt;div class=&quot;search-result-item&quot; onclick=&quot;selectZone('${zone.id}')&quot;&gt;&#10;                &lt;div class=&quot;d-flex align-items-center&quot;&gt;&#10;                    &lt;span class=&quot;zone-color-indicator me-2&quot; &#10;                          style=&quot;background: ${zone.color}; border-color: ${zone.border_color}&quot;&gt;&lt;/span&gt;&#10;                    &lt;div&gt;&#10;                        &lt;strong&gt;${zone.name}&lt;/strong&gt;&#10;                        &lt;br&gt;&#10;                        &lt;small class=&quot;text-muted&quot;&gt;${zone.description}&lt;/small&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        `).join('');&#10;        &#10;    } catch (error) {&#10;        console.error('Error searching zones:', error);&#10;    }&#10;}&#10;&#10;/**&#10; * Limpiar búsqueda&#10; */&#10;function clearSearch() {&#10;    document.getElementById('searchInput').value = '';&#10;    document.getElementById('searchResults').innerHTML = '';&#10;}&#10;&#10;/**&#10; * Poblar lista de zonas&#10; */&#10;function populateZonesList() {&#10;    const container = document.getElementById('zonesList');&#10;    container.innerHTML = Object.values(zones).map(zone =&gt; `&#10;        &lt;div class=&quot;zone-item&quot; onclick=&quot;selectZone('${zone.id}')&quot;&gt;&#10;            &lt;div class=&quot;d-flex align-items-center&quot;&gt;&#10;                &lt;span class=&quot;zone-color-indicator&quot; &#10;                      style=&quot;background: ${zone.color}; border-color: ${zone.border_color}&quot;&gt;&lt;/span&gt;&#10;                &lt;span&gt;${zone.name}&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;i class=&quot;fas fa-chevron-right text-muted&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;    `).join('');&#10;}&#10;&#10;/**&#10; * Poblar selectores de ruta&#10; */&#10;function populateRouteSelects() {&#10;    const startSelect = document.getElementById('routeStart');&#10;    const endSelect = document.getElementById('routeEnd');&#10;    &#10;    const options = Object.values(zones).map(zone =&gt; &#10;        `&lt;option value=&quot;${zone.id}&quot;&gt;${zone.name}&lt;/option&gt;`&#10;    ).join('');&#10;    &#10;    startSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Desde...&lt;/option&gt;' + options;&#10;    endSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Hasta...&lt;/option&gt;' + options;&#10;}&#10;&#10;/**&#10; * Calcular ruta&#10; */&#10;async function calculateRoute() {&#10;    const start = document.getElementById('routeStart').value;&#10;    const end = document.getElementById('routeEnd').value;&#10;    &#10;    if (!start || !end) {&#10;        showToast('Selecciona origen y destino', 'warning');&#10;        return;&#10;    }&#10;    &#10;    if (start === end) {&#10;        showToast('El origen y destino no pueden ser iguales', 'warning');&#10;        return;&#10;    }&#10;    &#10;    try {&#10;        const response = await fetch(`/api/route?start=${start}&amp;end=${end}`);&#10;        const route = await response.json();&#10;        &#10;        displayRoute(route);&#10;        showRouteInfo(route);&#10;        &#10;    } catch (error) {&#10;        console.error('Error calculating route:', error);&#10;        showToast('Error al calcular la ruta', 'error');&#10;    }&#10;}&#10;&#10;/**&#10; * Mostrar ruta en el mapa&#10; */&#10;function displayRoute(route) {&#10;    // Limpiar ruta anterior&#10;    clearRoute();&#10;    &#10;    const mainGroup = mapSvg.select('.main-group');&#10;    &#10;    // Crear grupo para la ruta&#10;    const routeGroup = mainGroup.append('g').attr('class', 'route-group');&#10;    &#10;    // Línea de la ruta&#10;    const line = d3.line()&#10;        .x(d =&gt; d[0])&#10;        .y(d =&gt; d[1])&#10;        .curve(d3.curveCardinal);&#10;    &#10;    routeGroup.append('path')&#10;        .datum(route.path)&#10;        .attr('class', 'route-path')&#10;        .attr('d', line);&#10;    &#10;    // Marcadores de inicio y fin&#10;    routeGroup.append('circle')&#10;        .attr('cx', route.path[0][0])&#10;        .attr('cy', route.path[0][1])&#10;        .attr('r', 8)&#10;        .attr('class', 'route-marker')&#10;        .style('fill', '#10b981');&#10;    &#10;    routeGroup.append('circle')&#10;        .attr('cx', route.path[route.path.length - 1][0])&#10;        .attr('cy', route.path[route.path.length - 1][1])&#10;        .attr('r', 8)&#10;        .attr('class', 'route-marker')&#10;        .style('fill', '#ef4444');&#10;    &#10;    currentRoute = route;&#10;    &#10;    // Hacer zoom a la ruta&#10;    zoomToRoute(route.path);&#10;}&#10;&#10;/**&#10; * Hacer zoom para mostrar toda la ruta&#10; */&#10;function zoomToRoute(path) {&#10;    const bounds = {&#10;        minX: Math.min(...path.map(p =&gt; p[0])) - 50,&#10;        maxX: Math.max(...path.map(p =&gt; p[0])) + 50,&#10;        minY: Math.min(...path.map(p =&gt; p[1])) - 50,&#10;        maxY: Math.max(...path.map(p =&gt; p[1])) + 50&#10;    };&#10;    &#10;    const width = bounds.maxX - bounds.minX;&#10;    const height = bounds.maxY - bounds.minY;&#10;    &#10;    const centerX = bounds.minX + width / 2;&#10;    const centerY = bounds.minY + height / 2;&#10;    &#10;    const scale = Math.min(MAP_CONFIG.width / width, MAP_CONFIG.height / height) * 0.8;&#10;    &#10;    mapSvg.transition().duration(1000)&#10;        .call(d3.zoom().transform, &#10;              d3.zoomIdentity&#10;                .translate(MAP_CONFIG.width / 2, MAP_CONFIG.height / 2)&#10;                .scale(scale)&#10;                .translate(-centerX, -centerY));&#10;}&#10;&#10;/**&#10; * Mostrar información de la ruta&#10; */&#10;function showRouteInfo(route) {&#10;    const routeInfo = document.getElementById('routeInfo');&#10;    const routeDetails = document.getElementById('routeDetails');&#10;    &#10;    routeDetails.innerHTML = `&#10;        &lt;div class=&quot;mb-2&quot;&gt;&#10;            &lt;strong&gt;Desde:&lt;/strong&gt; ${route.start.name}&lt;br&gt;&#10;            &lt;strong&gt;Hasta:&lt;/strong&gt; ${route.end.name}&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;mb-2&quot;&gt;&#10;            &lt;span class=&quot;route-distance&quot;&gt;&#10;                &lt;i class=&quot;fas fa-route me-1&quot;&gt;&lt;/i&gt;&#10;                Distancia: ${Math.round(route.distance)} unidades&#10;            &lt;/span&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;mt-3&quot;&gt;&#10;            &lt;h6&gt;&lt;i class=&quot;fas fa-list me-2&quot;&gt;&lt;/i&gt;Instrucciones:&lt;/h6&gt;&#10;            ${route.instructions.map((instruction, index) =&gt; `&#10;                &lt;div class=&quot;route-instruction&quot;&gt;&#10;                    ${index + 1}. ${instruction}&#10;                &lt;/div&gt;&#10;            `).join('')}&#10;        &lt;/div&gt;&#10;    `;&#10;    &#10;    routeInfo.style.display = 'block';&#10;    routeInfo.classList.add('fade-in');&#10;}&#10;&#10;/**&#10; * Limpiar ruta&#10; */&#10;function clearRoute() {&#10;    mapSvg.select('.route-group').remove();&#10;    document.getElementById('routeInfo').style.display = 'none';&#10;    document.getElementById('routeStart').value = '';&#10;    document.getElementById('routeEnd').value = '';&#10;    currentRoute = null;&#10;}&#10;&#10;/**&#10; * Limpiar selección&#10; */&#10;function clearSelection() {&#10;    mapSvg.selectAll('.office-zone').classed('selected', false);&#10;    selectedZone = null;&#10;}&#10;&#10;/**&#10; * Establecer como destino&#10; */&#10;function setAsDestination() {&#10;    if (selectedZone) {&#10;        document.getElementById('routeEnd').value = selectedZone;&#10;        bootstrap.Modal.getInstance(document.getElementById('zoneInfoModal')).hide();&#10;        showToast(`Destino establecido: ${zones[selectedZone].name}`, 'success');&#10;    }&#10;}&#10;&#10;/**&#10; * Mostrar tooltip de zona&#10; */&#10;function showZoneTooltip(zone, x, y) {&#10;    const tooltip = document.createElement('div');&#10;    tooltip.id = 'zone-tooltip';&#10;    tooltip.className = 'position-absolute bg-dark text-white p-2 rounded';&#10;    tooltip.style.left = (x + 10) + 'px';&#10;    tooltip.style.top = (y - 30) + 'px';&#10;    tooltip.style.zIndex = '9999';&#10;    tooltip.innerHTML = `&#10;        &lt;strong&gt;${zone.name}&lt;/strong&gt;&lt;br&gt;&#10;        &lt;small&gt;${zone.description || ''}&lt;/small&gt;&#10;    `;&#10;    &#10;    document.body.appendChild(tooltip);&#10;}&#10;&#10;/**&#10; * Ocultar tooltip&#10; */&#10;function hideZoneTooltip() {&#10;    const tooltip = document.getElementById('zone-tooltip');&#10;    if (tooltip) {&#10;        tooltip.remove();&#10;    }&#10;}&#10;&#10;/**&#10; * Mostrar toast notification&#10; */&#10;function showToast(message, type = 'info') {&#10;    const toast = document.getElementById('notificationToast');&#10;    const toastMessage = document.getElementById('toastMessage');&#10;    &#10;    toastMessage.textContent = message;&#10;    &#10;    // Cambiar color según el tipo&#10;    const toastHeader = toast.querySelector('.toast-header i');&#10;    toastHeader.className = `fas me-2 ${&#10;        type === 'success' ? 'fa-check-circle text-success' :&#10;        type === 'warning' ? 'fa-exclamation-triangle text-warning' :&#10;        type === 'error' ? 'fa-times-circle text-danger' :&#10;        'fa-info-circle text-primary'&#10;    }`;&#10;    &#10;    const bsToast = new bootstrap.Toast(toast);&#10;    bsToast.show();&#10;}&#10;&#10;/**&#10; * Ocultar loading&#10; */&#10;function hideLoading() {&#10;    const loading = document.getElementById('loadingSpinner');&#10;    if (loading) {&#10;        loading.style.display = 'none';&#10;    }&#10;}&#10;&#10;/**&#10; * Mostrar ayuda&#10; */&#10;function showHelp() {&#10;    const modal = new bootstrap.Modal(document.getElementById('helpModal'));&#10;    modal.show();&#10;}&#10;&#10;/**&#10; * Toggle fullscreen&#10; */&#10;function toggleFullscreen() {&#10;    const mapContainer = document.querySelector('.map-container .card');&#10;    mapContainer.classList.toggle('fullscreen-map');&#10;    &#10;    // Redimensionar el mapa después del cambio&#10;    setTimeout(() =&gt; {&#10;        mapSvg.attr('viewBox', `0 0 ${MAP_CONFIG.width} ${MAP_CONFIG.height}`);&#10;    }, 300);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/templates/base.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/templates/base.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;es&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;{% block title %}Mapa Interactivo de Oficina{% endblock %}&lt;/title&gt;&#10;    &#10;    &lt;!-- Bootstrap CSS --&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &#10;    &lt;!-- Font Awesome --&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css&quot;&gt;&#10;    &#10;    &lt;!-- Leaflet CSS (para mapas interactivos) --&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.css&quot;&gt;&#10;    &#10;    &lt;!-- Custom CSS --&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/style.css') }}&quot;&gt;&#10;    &#10;    {% block extra_head %}{% endblock %}&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-primary&quot;&gt;&#10;        &lt;div class=&quot;container&quot;&gt;&#10;            &lt;a class=&quot;navbar-brand&quot; href=&quot;{{ url_for('index') }}&quot;&gt;&#10;                &lt;i class=&quot;fas fa-map-marked-alt me-2&quot;&gt;&lt;/i&gt;&#10;                Mapa de Oficina&#10;            &lt;/a&gt;&#10;            &#10;            &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarNav&quot;&gt;&#10;                &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;&#10;            &lt;/button&gt;&#10;            &#10;            &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNav&quot;&gt;&#10;                &lt;ul class=&quot;navbar-nav ms-auto&quot;&gt;&#10;                    &lt;li class=&quot;nav-item&quot;&gt;&#10;                        &lt;a class=&quot;nav-link&quot; href=&quot;{{ url_for('index') }}&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-home me-1&quot;&gt;&lt;/i&gt;Inicio&#10;                        &lt;/a&gt;&#10;                    &lt;/li&gt;&#10;                    &lt;li class=&quot;nav-item&quot;&gt;&#10;                        &lt;a class=&quot;nav-link&quot; href=&quot;#&quot; onclick=&quot;showHelp()&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-question-circle me-1&quot;&gt;&lt;/i&gt;Ayuda&#10;                        &lt;/a&gt;&#10;                    &lt;/li&gt;&#10;                &lt;/ul&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/nav&gt;&#10;&#10;    &lt;main class=&quot;container-fluid&quot;&gt;&#10;        {% block content %}{% endblock %}&#10;    &lt;/main&gt;&#10;&#10;    &lt;!-- Modal de Información de Zona --&gt;&#10;    &lt;div class=&quot;modal fade&quot; id=&quot;zoneInfoModal&quot; tabindex=&quot;-1&quot;&gt;&#10;        &lt;div class=&quot;modal-dialog modal-lg&quot;&gt;&#10;            &lt;div class=&quot;modal-content&quot;&gt;&#10;                &lt;div class=&quot;modal-header&quot;&gt;&#10;                    &lt;h5 class=&quot;modal-title&quot; id=&quot;zoneModalTitle&quot;&gt;Información de la Zona&lt;/h5&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot;&gt;&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-body&quot; id=&quot;zoneModalBody&quot;&gt;&#10;                    &lt;!-- Contenido dinámico --&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-footer&quot;&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Cerrar&lt;/button&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;setAsDestination()&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-route me-1&quot;&gt;&lt;/i&gt;Calcular Ruta&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Modal de Ayuda --&gt;&#10;    &lt;div class=&quot;modal fade&quot; id=&quot;helpModal&quot; tabindex=&quot;-1&quot;&gt;&#10;        &lt;div class=&quot;modal-dialog modal-lg&quot;&gt;&#10;            &lt;div class=&quot;modal-content&quot;&gt;&#10;                &lt;div class=&quot;modal-header&quot;&gt;&#10;                    &lt;h5 class=&quot;modal-title&quot;&gt;Guía de Uso&lt;/h5&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot;&gt;&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-body&quot;&gt;&#10;                    &lt;div class=&quot;row&quot;&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-mouse-pointer text-primary&quot;&gt;&lt;/i&gt; Navegación&lt;/h6&gt;&#10;                            &lt;ul class=&quot;list-unstyled&quot;&gt;&#10;                                &lt;li&gt;• Haz clic en cualquier zona para ver información&lt;/li&gt;&#10;                                &lt;li&gt;• Usa la rueda del mouse para hacer zoom&lt;/li&gt;&#10;                                &lt;li&gt;• Arrastra para mover el mapa&lt;/li&gt;&#10;                            &lt;/ul&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-search text-primary&quot;&gt;&lt;/i&gt; Búsqueda&lt;/h6&gt;&#10;                            &lt;ul class=&quot;list-unstyled&quot;&gt;&#10;                                &lt;li&gt;• Escribe el nombre de una zona&lt;/li&gt;&#10;                                &lt;li&gt;• Los resultados aparecen automáticamente&lt;/li&gt;&#10;                                &lt;li&gt;• Haz clic en un resultado para ir allí&lt;/li&gt;&#10;                            &lt;/ul&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-route text-primary&quot;&gt;&lt;/i&gt; Rutas&lt;/h6&gt;&#10;                            &lt;ul class=&quot;list-unstyled&quot;&gt;&#10;                                &lt;li&gt;• Selecciona origen y destino&lt;/li&gt;&#10;                                &lt;li&gt;• La ruta se muestra automáticamente&lt;/li&gt;&#10;                                &lt;li&gt;• Incluye instrucciones paso a paso&lt;/li&gt;&#10;                            &lt;/ul&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-map-marker-alt text-primary&quot;&gt;&lt;/i&gt; Leyenda&lt;/h6&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #E3F2FD; border: 1px solid #2196F3;&quot;&gt;&lt;/span&gt; Recepción&lt;/div&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #F3E5F5; border: 1px solid #9C27B0;&quot;&gt;&lt;/span&gt; Salas de Reunión&lt;/div&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #E8F5E8; border: 1px solid #4CAF50;&quot;&gt;&lt;/span&gt; Oficinas&lt;/div&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #FFF3E0; border: 1px solid #FF9800;&quot;&gt;&lt;/span&gt; Comedor&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Bootstrap JS --&gt;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;    &#10;    &lt;!-- Leaflet JS --&gt;&#10;    &lt;script src=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.js&quot;&gt;&lt;/script&gt;&#10;    &#10;    &lt;!-- Custom JS --&gt;&#10;    &lt;script src=&quot;{{ url_for('static', filename='js/app.js') }}&quot;&gt;&lt;/script&gt;&#10;    &#10;    {% block extra_scripts %}{% endblock %}&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;&#10;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;es&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;{% block title %}Mapa Interactivo de Oficina{% endblock %}&lt;/title&gt;&#10;    &#10;    &lt;!-- Bootstrap CSS --&gt;&#10;    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &#10;    &lt;!-- Font Awesome --&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css&quot;&gt;&#10;    &#10;    &lt;!-- Leaflet CSS (para mapas interactivos) --&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.css&quot;&gt;&#10;    &#10;    &lt;!-- D3.js para SVG interactivo --&gt;&#10;    &lt;script src=&quot;https://d3js.org/d3.v7.min.js&quot;&gt;&lt;/script&gt;&#10;    &#10;    &lt;!-- Custom CSS --&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/style.css') }}&quot;&gt;&#10;    &#10;    {% block extra_head %}{% endblock %}&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-primary&quot;&gt;&#10;        &lt;div class=&quot;container&quot;&gt;&#10;            &lt;a class=&quot;navbar-brand&quot; href=&quot;{{ url_for('index') }}&quot;&gt;&#10;                &lt;i class=&quot;fas fa-map-marked-alt me-2&quot;&gt;&lt;/i&gt;&#10;                Mapa de Oficina&#10;            &lt;/a&gt;&#10;            &#10;            &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarNav&quot;&gt;&#10;                &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;&#10;            &lt;/button&gt;&#10;            &#10;            &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNav&quot;&gt;&#10;                &lt;ul class=&quot;navbar-nav ms-auto&quot;&gt;&#10;                    &lt;li class=&quot;nav-item&quot;&gt;&#10;                        &lt;a class=&quot;nav-link&quot; href=&quot;{{ url_for('index') }}&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-home me-1&quot;&gt;&lt;/i&gt;Inicio&#10;                        &lt;/a&gt;&#10;                    &lt;/li&gt;&#10;                    &lt;li class=&quot;nav-item&quot;&gt;&#10;                        &lt;a class=&quot;nav-link&quot; href=&quot;#&quot; onclick=&quot;showHelp()&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-question-circle me-1&quot;&gt;&lt;/i&gt;Ayuda&#10;                        &lt;/a&gt;&#10;                    &lt;/li&gt;&#10;                &lt;/ul&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/nav&gt;&#10;&#10;    &lt;main class=&quot;container-fluid&quot;&gt;&#10;        {% block content %}{% endblock %}&#10;    &lt;/main&gt;&#10;&#10;    &lt;!-- Modal de Información de Zona --&gt;&#10;    &lt;div class=&quot;modal fade&quot; id=&quot;zoneInfoModal&quot; tabindex=&quot;-1&quot;&gt;&#10;        &lt;div class=&quot;modal-dialog modal-lg&quot;&gt;&#10;            &lt;div class=&quot;modal-content&quot;&gt;&#10;                &lt;div class=&quot;modal-header&quot;&gt;&#10;                    &lt;h5 class=&quot;modal-title&quot; id=&quot;zoneModalTitle&quot;&gt;Información de la Zona&lt;/h5&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot;&gt;&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-body&quot; id=&quot;zoneModalBody&quot;&gt;&#10;                    &lt;!-- Contenido dinámico --&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-footer&quot;&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Cerrar&lt;/button&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;setAsDestination()&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-route me-1&quot;&gt;&lt;/i&gt;Calcular Ruta&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Modal de Ayuda --&gt;&#10;    &lt;div class=&quot;modal fade&quot; id=&quot;helpModal&quot; tabindex=&quot;-1&quot;&gt;&#10;        &lt;div class=&quot;modal-dialog modal-lg&quot;&gt;&#10;            &lt;div class=&quot;modal-content&quot;&gt;&#10;                &lt;div class=&quot;modal-header&quot;&gt;&#10;                    &lt;h5 class=&quot;modal-title&quot;&gt;Guía de Uso&lt;/h5&gt;&#10;                    &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot;&gt;&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;modal-body&quot;&gt;&#10;                    &lt;div class=&quot;row&quot;&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-mouse-pointer text-primary&quot;&gt;&lt;/i&gt; Navegación&lt;/h6&gt;&#10;                            &lt;ul class=&quot;list-unstyled&quot;&gt;&#10;                                &lt;li&gt;• Haz clic en cualquier zona para ver información&lt;/li&gt;&#10;                                &lt;li&gt;• Usa la rueda del mouse para hacer zoom&lt;/li&gt;&#10;                                &lt;li&gt;• Arrastra para mover el mapa&lt;/li&gt;&#10;                            &lt;/ul&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-search text-primary&quot;&gt;&lt;/i&gt; Búsqueda&lt;/h6&gt;&#10;                            &lt;ul class=&quot;list-unstyled&quot;&gt;&#10;                                &lt;li&gt;• Escribe el nombre de una zona&lt;/li&gt;&#10;                                &lt;li&gt;• Los resultados aparecen automáticamente&lt;/li&gt;&#10;                                &lt;li&gt;• Haz clic en un resultado para ir allí&lt;/li&gt;&#10;                            &lt;/ul&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-route text-primary&quot;&gt;&lt;/i&gt; Rutas&lt;/h6&gt;&#10;                            &lt;ul class=&quot;list-unstyled&quot;&gt;&#10;                                &lt;li&gt;• Selecciona origen y destino&lt;/li&gt;&#10;                                &lt;li&gt;• La ruta se muestra automáticamente&lt;/li&gt;&#10;                                &lt;li&gt;• Incluye instrucciones paso a paso&lt;/li&gt;&#10;                            &lt;/ul&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;col-md-6&quot;&gt;&#10;                            &lt;h6&gt;&lt;i class=&quot;fas fa-map-marker-alt text-primary&quot;&gt;&lt;/i&gt; Leyenda&lt;/h6&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #E3F2FD; border: 1px solid #2196F3;&quot;&gt;&lt;/span&gt; Recepción&lt;/div&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #F3E5F5; border: 1px solid #9C27B0;&quot;&gt;&lt;/span&gt; Salas de Reunión&lt;/div&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #E8F5E8; border: 1px solid #4CAF50;&quot;&gt;&lt;/span&gt; Oficinas&lt;/div&gt;&#10;                            &lt;div class=&quot;legend-item&quot;&gt;&lt;span class=&quot;legend-color&quot; style=&quot;background: #FFF3E0; border: 1px solid #FF9800;&quot;&gt;&lt;/span&gt; Comedor&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Bootstrap JS --&gt;&#10;    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#10;    &#10;    &lt;!-- Leaflet JS --&gt;&#10;    &lt;script src=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.js&quot;&gt;&lt;/script&gt;&#10;    &#10;    &lt;!-- Custom JS --&gt;&#10;    &lt;script src=&quot;{{ url_for('static', filename='js/app.js') }}&quot;&gt;&lt;/script&gt;&#10;    &#10;    {% block extra_scripts %}{% endblock %}&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/templates/index.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/templates/index.html" />
              <option name="updatedContent" value="{% extends &quot;base.html&quot; %}&#10;&#10;{% block content %}&#10;&lt;div class=&quot;row h-100&quot;&gt;&#10;    &lt;!-- Panel lateral --&gt;&#10;    &lt;div class=&quot;col-lg-3 col-md-4 sidebar&quot;&gt;&#10;        &lt;div class=&quot;card h-100&quot;&gt;&#10;            &lt;div class=&quot;card-header&quot;&gt;&#10;                &lt;h5 class=&quot;mb-0&quot;&gt;&#10;                    &lt;i class=&quot;fas fa-search me-2&quot;&gt;&lt;/i&gt;Navegación&#10;                &lt;/h5&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;card-body&quot;&gt;&#10;                &lt;!-- Buscador --&gt;&#10;                &lt;div class=&quot;mb-3&quot;&gt;&#10;                    &lt;label for=&quot;searchInput&quot; class=&quot;form-label&quot;&gt;Buscar zona:&lt;/label&gt;&#10;                    &lt;div class=&quot;input-group&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;searchInput&quot; placeholder=&quot;Ej: recepción, sala...&quot;&gt;&#10;                        &lt;button class=&quot;btn btn-outline-secondary&quot; type=&quot;button&quot; onclick=&quot;clearSearch()&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-times&quot;&gt;&lt;/i&gt;&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div id=&quot;searchResults&quot; class=&quot;search-results mt-2&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Calculadora de rutas --&gt;&#10;                &lt;div class=&quot;mb-3&quot;&gt;&#10;                    &lt;h6&gt;&lt;i class=&quot;fas fa-route me-2&quot;&gt;&lt;/i&gt;Calcular Ruta&lt;/h6&gt;&#10;                    &lt;div class=&quot;mb-2&quot;&gt;&#10;                        &lt;select class=&quot;form-select form-select-sm&quot; id=&quot;routeStart&quot;&gt;&#10;                            &lt;option value=&quot;&quot;&gt;Desde...&lt;/option&gt;&#10;                        &lt;/select&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;mb-2&quot;&gt;&#10;                        &lt;select class=&quot;form-select form-select-sm&quot; id=&quot;routeEnd&quot;&gt;&#10;                            &lt;option value=&quot;&quot;&gt;Hasta...&lt;/option&gt;&#10;                        &lt;/select&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;button class=&quot;btn btn-primary btn-sm w-100&quot; onclick=&quot;calculateRoute()&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-directions me-1&quot;&gt;&lt;/i&gt;Calcular&#10;                    &lt;/button&gt;&#10;                    &lt;button class=&quot;btn btn-outline-secondary btn-sm w-100 mt-1&quot; onclick=&quot;clearRoute()&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-eraser me-1&quot;&gt;&lt;/i&gt;Limpiar&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Información de ruta --&gt;&#10;                &lt;div id=&quot;routeInfo&quot; class=&quot;route-info&quot; style=&quot;display: none;&quot;&gt;&#10;                    &lt;h6&gt;&lt;i class=&quot;fas fa-info-circle me-2&quot;&gt;&lt;/i&gt;Información de Ruta&lt;/h6&gt;&#10;                    &lt;div id=&quot;routeDetails&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Lista de zonas --&gt;&#10;                &lt;div class=&quot;mt-3&quot;&gt;&#10;                    &lt;h6&gt;&lt;i class=&quot;fas fa-list me-2&quot;&gt;&lt;/i&gt;Zonas Disponibles&lt;/h6&gt;&#10;                    &lt;div id=&quot;zonesList&quot; class=&quot;zones-list&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- Leyenda --&gt;&#10;                &lt;div class=&quot;mt-3&quot;&gt;&#10;                    &lt;h6&gt;&lt;i class=&quot;fas fa-palette me-2&quot;&gt;&lt;/i&gt;Leyenda&lt;/h6&gt;&#10;                    &lt;div class=&quot;legend&quot;&gt;&#10;                        &lt;div class=&quot;legend-item&quot;&gt;&#10;                            &lt;span class=&quot;legend-color&quot; style=&quot;background: #E3F2FD; border: 1px solid #2196F3;&quot;&gt;&lt;/span&gt;&#10;                            Recepción&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;legend-item&quot;&gt;&#10;                            &lt;span class=&quot;legend-color&quot; style=&quot;background: #F3E5F5; border: 1px solid #9C27B0;&quot;&gt;&lt;/span&gt;&#10;                            Salas de Reunión&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;legend-item&quot;&gt;&#10;                            &lt;span class=&quot;legend-color&quot; style=&quot;background: #E8F5E8; border: 1px solid #4CAF50;&quot;&gt;&lt;/span&gt;&#10;                            Oficinas&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;legend-item&quot;&gt;&#10;                            &lt;span class=&quot;legend-color&quot; style=&quot;background: #FFF3E0; border: 1px solid #FF9800;&quot;&gt;&lt;/span&gt;&#10;                            Comedor&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;legend-item&quot;&gt;&#10;                            &lt;span class=&quot;legend-color&quot; style=&quot;background: #EFEBE9; border: 1px solid #795548;&quot;&gt;&lt;/span&gt;&#10;                            Almacén&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;legend-item&quot;&gt;&#10;                            &lt;span class=&quot;legend-color&quot; style=&quot;background: #E1F5FE; border: 1px solid #03A9F4;&quot;&gt;&lt;/span&gt;&#10;                            Baños&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Área del mapa --&gt;&#10;    &lt;div class=&quot;col-lg-9 col-md-8 map-container&quot;&gt;&#10;        &lt;div class=&quot;card h-100&quot;&gt;&#10;            &lt;div class=&quot;card-header d-flex justify-content-between align-items-center&quot;&gt;&#10;                &lt;h5 class=&quot;mb-0&quot;&gt;&#10;                    &lt;i class=&quot;fas fa-map me-2&quot;&gt;&lt;/i&gt;Plano Interactivo&#10;                &lt;/h5&gt;&#10;                &lt;div class=&quot;btn-group btn-group-sm&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-outline-primary&quot; onclick=&quot;resetView()&quot; title=&quot;Restablecer vista&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-home&quot;&gt;&lt;/i&gt;&#10;                    &lt;/button&gt;&#10;                    &lt;button class=&quot;btn btn-outline-primary&quot; onclick=&quot;toggleFullscreen()&quot; title=&quot;Pantalla completa&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-expand&quot;&gt;&lt;/i&gt;&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;card-body p-0&quot;&gt;&#10;                &lt;div id=&quot;officeMap&quot; class=&quot;office-map&quot;&gt;&lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;!-- Loading spinner --&gt;&#10;&lt;div id=&quot;loadingSpinner&quot; class=&quot;loading-spinner&quot;&gt;&#10;    &lt;div class=&quot;spinner-border text-primary&quot; role=&quot;status&quot;&gt;&#10;        &lt;span class=&quot;visually-hidden&quot;&gt;Cargando...&lt;/span&gt;&#10;    &lt;/div&gt;&#10;    &lt;p class=&quot;mt-2&quot;&gt;Cargando mapa...&lt;/p&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;!-- Toast container --&gt;&#10;&lt;div class=&quot;toast-container position-fixed bottom-0 end-0 p-3&quot;&gt;&#10;    &lt;div id=&quot;notificationToast&quot; class=&quot;toast&quot; role=&quot;alert&quot;&gt;&#10;        &lt;div class=&quot;toast-header&quot;&gt;&#10;            &lt;i class=&quot;fas fa-info-circle text-primary me-2&quot;&gt;&lt;/i&gt;&#10;            &lt;strong class=&quot;me-auto&quot;&gt;Información&lt;/strong&gt;&#10;            &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;toast&quot;&gt;&lt;/button&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;toast-body&quot; id=&quot;toastMessage&quot;&gt;&#10;            &lt;!-- Mensaje dinámico --&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;{% endblock %}&#10;&#10;{% block extra_scripts %}&#10;&lt;script&gt;&#10;// Inicializar la aplicación cuando se carga la página&#10;document.addEventListener('DOMContentLoaded', function() {&#10;    initializeMap();&#10;    loadZones();&#10;    setupEventListeners();&#10;});&#10;&lt;/script&gt;&#10;{% endblock %}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/../office_map_app/wsgi.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/../office_map_app/wsgi.py" />
              <option name="updatedContent" value="from app import app&#10;&#10;if __name__ == '__main__':&#10;    app.run(debug=True)" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>